(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8e3],{82082:function(e,n,t){Promise.resolve().then(t.bind(t,66020))},70790:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(35694),o=function(e){return(e+1)%1e6};function s(e,n){return"function"==typeof e?e.length?e(n):e():e}function u(e,n,t){void 0===e&&(e=0),void 0===n&&(n=null),void 0===t&&(t=null);var u,a,i,c=s(e);"number"!=typeof c&&console.error("initialValue has to be a number, got "+typeof e),"number"==typeof t?c=Math.max(c,t):null!==t&&console.error("min has to be a number, got "+typeof t),"number"==typeof n?c=Math.min(c,n):null!==n&&console.error("max has to be a number, got "+typeof n);var l=(u=c,a=(0,r.useRef)(s(u)),i=(0,r.useReducer)(o,0)[1],(0,r.useMemo)(function(){return[function(){return a.current},function(e){a.current=s(e,a.current),i()}]},[])),f=l[0],m=l[1];return[f(),(0,r.useMemo)(function(){var e=function(e){var r=f(),o=s(e,r);r!==o&&("number"==typeof t&&(o=Math.max(o,t)),"number"==typeof n&&(o=Math.min(o,n)),r!==o&&m(o))};return{get:f,set:e,inc:function(n){void 0===n&&(n=1);var t=s(n,f());"number"!=typeof t&&console.error("delta has to be a number or function returning a number, got "+typeof t),e(function(e){return e+t})},dec:function(n){void 0===n&&(n=1);var t=s(n,f());"number"!=typeof t&&console.error("delta has to be a number or function returning a number, got "+typeof t),e(function(e){return e-t})},reset:function(n){void 0===n&&(n=c);var t=s(n,f());"number"!=typeof t&&console.error("value has to be a number or function returning a number, got "+typeof t),c=t,e(t)}}},[c,t,n])]}},84934:function(e,n,t){"use strict";var r=t(35694);n.Z=function(e,n){var t=(0,r.useRef)(function(){});(0,r.useEffect)(function(){t.current=e}),(0,r.useEffect)(function(){if(null!==n){var e=setInterval(function(){return t.current()},n||0);return function(){return clearInterval(e)}}},[n])}},66020:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return g}});var r=t(90473),o=t(47932),s=t(49642),u=t(37326),a=t(70102),i=t(68154),c=t(98717),l=t(56048),f=t(35694),m=t(70790),d=t(84934),b=t(84578),h=t(572),v=t(60439),p=t(77714),x=t(29719),w=t(66363);function g(){let e=(0,l.useSearchParams)(),[n,t]=(0,f.useState)(e.get("email")||""),[g,y]=(0,f.useState)(""),[P,j]=(0,f.useState)(""),[E,N]=(0,f.useState)(""),[C,S]=(0,m.Z)(0,60,0);(0,d.Z)(()=>{S.dec(1)},1e3);let R=(0,l.useRouter)(),M=(0,h.Eu)(),{mutate:_,isPending:k}=(0,c.D)({mutationFn:async e=>{if(e.preventDefault(),!n)throw Error("Please enter email");if(!g||!P)throw Error("Please enter email or password");if(g!==P)throw Error("Please confirm password");if(!E)throw Error("Please enter verify code");await u.Z.resetPassword({email:n,password:g,verifyCode:E.trim()}),b.Am.success("Reset Password Success!"),M.logout(),await (0,a._v)(2e3),R.push("/signin")}}),{mutate:Z,isPending:D,isIdle:I}=(0,c.D)({mutationFn:async()=>{if(!n)throw Error("Please enter email");await u.Z.sendResetPassword(n),S.reset(60)}}),F=k||!0!==(0,i.jg)(E)||!0!==(0,i.oH)(n)||!0!==(0,i.uo)(g)||!0!==(0,i.S$)(P,g),H=D||C>0||!0!==(0,i.oH)(n);return(0,r.jsx)(p.K,{headerClassNmae:"smd:!flex-[2]",childrenClassName:"smd:!flex-[8]",children:(0,r.jsxs)(v.z,{className:"mx-auto p-5 md:min-h-full flex flex-col gap-5 items-center w-full max-w-[25rem]",children:[(0,r.jsx)("span",{className:x.U,children:"Reset Password"}),(0,r.jsxs)("form",{onSubmit:_,className:"flex flex-col gap-5 w-full mb-auto",children:[(0,r.jsx)(s.j7,{value:n,setEmail:t}),(0,r.jsx)(s.CM,{label:"New Password",setPassword:y}),(0,r.jsx)(s.CM,{label:"Confirm Password",setPassword:j,validate:e=>(0,i.S$)(e,g)}),(0,r.jsxs)("div",{className:"flex gap-5 items-center",children:[(0,r.jsx)(s.Iv,{setVerifyCode:N}),(0,r.jsx)(o.un,{type:"button",isDisabled:H,isLoading:D,onClick:Z,children:D?"":I?"Send":C>0?"".concat(C,"s"):"Resend"})]}),(0,r.jsx)(o.un,{type:"submit",isDisabled:F,isLoading:k,children:"Reset Password"}),(0,r.jsx)(w.g,{href:"/signin",className:"text-xs smd:text-sm text-left",children:"Go back"})]})]})})}}},function(e){e.O(0,[7495,5863,1321,4822,3227,6894,6504,6316,5350,8626,2225,1744],function(){return e(e.s=82082)}),_N_E=e.O()}]);