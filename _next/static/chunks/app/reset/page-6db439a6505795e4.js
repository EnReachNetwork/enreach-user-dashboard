(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8e3],{97554:function(e,r,n){Promise.resolve().then(n.bind(n,18310))},59951:function(e,r,n){"use strict";n.d(r,{Z:function(){return u}});var t=n(49755),o=function(e){return(e+1)%1e6};function s(e,r){return"function"==typeof e?e.length?e(r):e():e}function u(e,r,n){void 0===e&&(e=0),void 0===r&&(r=null),void 0===n&&(n=null);var u,a,i,c=s(e);"number"!=typeof c&&console.error("initialValue has to be a number, got "+typeof e),"number"==typeof n?c=Math.max(c,n):null!==n&&console.error("min has to be a number, got "+typeof n),"number"==typeof r?c=Math.min(c,r):null!==r&&console.error("max has to be a number, got "+typeof r);var f=(u=c,a=(0,t.useRef)(s(u)),i=(0,t.useReducer)(o,0)[1],(0,t.useMemo)(function(){return[function(){return a.current},function(e){a.current=s(e,a.current),i()}]},[])),l=f[0],m=f[1];return[l(),(0,t.useMemo)(function(){var e=function(e){var t=l(),o=s(e,t);t!==o&&("number"==typeof n&&(o=Math.max(o,n)),"number"==typeof r&&(o=Math.min(o,r)),t!==o&&m(o))};return{get:l,set:e,inc:function(r){void 0===r&&(r=1);var n=s(r,l());"number"!=typeof n&&console.error("delta has to be a number or function returning a number, got "+typeof n),e(function(e){return e+n})},dec:function(r){void 0===r&&(r=1);var n=s(r,l());"number"!=typeof n&&console.error("delta has to be a number or function returning a number, got "+typeof n),e(function(e){return e-n})},reset:function(r){void 0===r&&(r=c);var n=s(r,l());"number"!=typeof n&&console.error("value has to be a number or function returning a number, got "+typeof n),c=n,e(n)}}},[c,n,r])]}},3762:function(e,r,n){"use strict";var t=n(49755);r.Z=function(e,r){var n=(0,t.useRef)(function(){});(0,t.useEffect)(function(){n.current=e}),(0,t.useEffect)(function(){if(null!==r){var e=setInterval(function(){return n.current()},r||0);return function(){return clearInterval(e)}}},[r])}},18310:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return y}});var t=n(81210),o=n(27767),s=n(36689),u=n(74572),a=n(47608),i=n(52897),c=n(17528),f=n(95258),l=n(49755),m=n(59951),d=n(3762),b=n(36062),h=n(53179),v=n(53573),p=n(41013),w=n(88918);function y(){let e=(0,f.useSearchParams)(),[r,n]=(0,l.useState)(e.get("email")||""),[y,g]=(0,l.useState)(""),[x,P]=(0,l.useState)(""),[E,j]=(0,l.useState)(""),[S,R]=(0,m.Z)(0,60,0);(0,d.Z)(()=>{R.dec(1)},1e3);let C=(0,f.useRouter)(),M=(0,h.Eu)(),{mutate:N,isPending:_}=(0,c.D)({onError:a.rV,mutationFn:async e=>{if(e.preventDefault(),!r)throw Error("Please enter email");if(!y||!x)throw Error("Please enter email or password");if(y!==x)throw Error("Please confirm password");if(!E)throw Error("Please enter verify code");await u.Z.resetPassword({email:r,password:y,verifyCode:E.trim()}),b.Am.success("Reset Password Success!"),M.logout(),await (0,a._v)(2e3),C.push("/signin")}}),{mutate:Z,isPending:k,isIdle:D}=(0,c.D)({onError:a.rV,mutationFn:async()=>{if(!r)throw Error("Please enter email");await u.Z.sendResetPassword(r),R.reset(60)}}),I=_||!0!==(0,i.jg)(E)||!0!==(0,i.oH)(r)||!0!==(0,i.uo)(y)||!0!==(0,i.S$)(x,y),V=k||S>0||!0!==(0,i.oH)(r);return(0,t.jsx)(p.K,{children:(0,t.jsxs)(v.z,{className:"mx-auto p-5 min-h-full flex flex-col gap-5 items-center w-full max-w-[25rem]",children:[(0,t.jsx)("span",{className:w.U,children:"Reset Password"}),(0,t.jsxs)("form",{onSubmit:N,className:"flex flex-col gap-5 w-full mb-auto",children:[(0,t.jsx)(s.j7,{value:r,setEmail:n}),(0,t.jsx)(s.CM,{label:"New Password",setPassword:g}),(0,t.jsx)(s.CM,{label:"Confirm Password",setPassword:P,validate:e=>(0,i.S$)(e,y)}),(0,t.jsxs)("div",{className:"flex gap-5 items-center",children:[(0,t.jsx)(s.Iv,{setVerifyCode:j}),(0,t.jsx)(o.un,{type:"button",isDisabled:V,isLoading:k,onClick:Z,children:k?"":D?"Send":S>0?"".concat(S,"s"):"Resend"})]}),(0,t.jsx)(o.un,{type:"submit",isDisabled:I,isLoading:_,children:"Reset Password"})]})]})})}}},function(e){e.O(0,[4242,7495,5863,6825,5926,6364,1055,8035,180,8403,6331,1744],function(){return e(e.s=97554)}),_N_E=e.O()}]);