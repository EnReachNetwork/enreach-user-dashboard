(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4966],{65265:function(e,t,r){Promise.resolve().then(r.bind(r,19242))},59951:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(49755),s=function(e){return(e+1)%1e6};function i(e,t){return"function"==typeof e?e.length?e(t):e():e}function a(e,t,r){void 0===e&&(e=0),void 0===t&&(t=null),void 0===r&&(r=null);var a,o,c,l=i(e);"number"!=typeof l&&console.error("initialValue has to be a number, got "+typeof e),"number"==typeof r?l=Math.max(l,r):null!==r&&console.error("min has to be a number, got "+typeof r),"number"==typeof t?l=Math.min(l,t):null!==t&&console.error("max has to be a number, got "+typeof t);var u=(a=l,o=(0,n.useRef)(i(a)),c=(0,n.useReducer)(s,0)[1],(0,n.useMemo)(function(){return[function(){return o.current},function(e){o.current=i(e,o.current),c()}]},[])),f=u[0],d=u[1];return[f(),(0,n.useMemo)(function(){var e=function(e){var n=f(),s=i(e,n);n!==s&&("number"==typeof r&&(s=Math.max(s,r)),"number"==typeof t&&(s=Math.min(s,t)),n!==s&&d(s))};return{get:f,set:e,inc:function(t){void 0===t&&(t=1);var r=i(t,f());"number"!=typeof r&&console.error("delta has to be a number or function returning a number, got "+typeof r),e(function(e){return e+r})},dec:function(t){void 0===t&&(t=1);var r=i(t,f());"number"!=typeof r&&console.error("delta has to be a number or function returning a number, got "+typeof r),e(function(e){return e-r})},reset:function(t){void 0===t&&(t=l);var r=i(t,f());"number"!=typeof r&&console.error("value has to be a number or function returning a number, got "+typeof r),l=r,e(r)}}},[l,r,t])]}},3762:function(e,t,r){"use strict";var n=r(49755);t.Z=function(e,t){var r=(0,n.useRef)(function(){});(0,n.useEffect)(function(){r.current=e}),(0,n.useEffect)(function(){if(null!==t){var e=setInterval(function(){return r.current()},t||0);return function(){return clearInterval(e)}}},[t])}},19242:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var n=r(81210),s=r(53573),i=r(27767),a=r(88918),o=r(36689),c=r(41013),l=r(13882),u=r(2793),f=r(74572),d=r(47608),m=r(52897),x=r(83332),h=r(85444),p=r(17528),g=r(95258),b=r(49755),w=r(54957),j=r(59951),y=r(3762),v=r(53179);function k(){let e=(0,g.useSearchParams)(),t=(0,v.Eu)(),[r,k]=(0,b.useState)(""),[N,E]=(0,b.useState)(""),[S,C]=(0,b.useState)(""),[R,P]=(0,b.useState)(e.get("referral")||""),[D,Z]=(0,b.useState)(!1),[_,V]=(0,w.Z)(!1),[A,F]=(0,j.Z)(60,60,0);(0,y.Z)(()=>F.dec(1),1e3);let[M,U]=(0,b.useState)(""),I=(0,g.useRouter)(),T=(0,b.useRef)(),{mutate:B,isPending:L}=(0,p.D)({onError:d.rV,mutationFn:async e=>{if(e.preventDefault(),!r||!N||!S)throw Error("Please enter email or password");if(N!==S)throw Error("Please confirm password");if(!_)throw Error("Plase checked Term of Service and Privacy Policy");T.current=await f.Z.registerApi({email:r,password:N,referralCode:R?R.trim():void 0}),F.reset(60),Z(!0)}}),{mutate:G,isPending:O}=(0,p.D)({onError:d.rV,mutationFn:async()=>{if(!M||!0!==(0,m.jg)(M))throw Error("Please enter verify code");if(!T.current)throw Error("Please sign up");let e=await f.Z.verifyRegisterCode(T.current.userId,M.trim());if(e&&e.token)t.setUser(e);else{let e=await f.Z.loginApi({email:r,password:N});e.token?t.setUser(e):I.push("/signin")}}}),{mutate:z,isPending:q}=(0,p.D)({onError:d.rV,mutationFn:async e=>{if(e.preventDefault(),!T.current)throw Error("Please sign up");await f.Z.resendRegisterVerifyCode(T.current.userId),F.reset(60)}}),J=O||!0!==(0,m.jg)(M),K=L||!_||!!R&&!0!==(0,m.tx)(R)||!0!==(0,m.oH)(r)||!0!==(0,m.uo)(N)||!0!==(0,m.S$)(S,N),$=A>0||q;return(0,n.jsx)(c.K,{children:(0,n.jsxs)(s.z,{className:"mx-auto p-5 min-h-full flex flex-col gap-5 items-center w-full max-w-[25rem]",children:[(0,n.jsx)("span",{className:a.U,children:"Sign Up"}),D?(0,n.jsxs)("div",{className:"flex flex-col items-center gap-5 w-full mb-auto",children:[(0,n.jsxs)("div",{className:"text-center whitespace-nowrap",children:["Verify your email",(0,n.jsx)("br",{}),"Enter the 6-digit verification code we sent to your inbox below:"]}),(0,n.jsx)(o.Fx,{onChange:U}),(0,n.jsx)(i.un,{className:"w-full",onClick:()=>G(),isDisabled:J,isLoading:O,children:"Verify Email"}),(0,n.jsxs)(l.g,{className:"text-xs -mt-1 flex items-center gap-2",onClick:z,isDisable:$,children:[q&&(0,n.jsx)(x.c,{size:"sm"}),A>0?"Resend Email (".concat(A,"s)"):"Resend Email"]})]}):(0,n.jsxs)("form",{onSubmit:B,className:"flex flex-col gap-5 w-full mb-auto",children:[(0,n.jsx)(o.j7,{setEmail:k}),(0,n.jsx)(o.CM,{setPassword:E}),(0,n.jsx)(o.CM,{label:"Confirm Password",setPassword:C,validate:e=>(0,m.S$)(e,N)}),(0,n.jsx)(o.e9,{value:R,setReferalCode:P}),(0,n.jsxs)(h.K,{classNames:{wrapper:"flip_item",label:"text-xs text-white/60",icon:"w-2.5 h-2.5"},checked:_,onValueChange:V,children:["I agree to the EnReach"," ",(0,n.jsx)(l.g,{target:"_blank",className:"text-xs",href:"https://enreach.network/terms",children:"Term of Service"})," ","and"," ",(0,n.jsx)(l.g,{target:"_blank",className:"text-xs",href:"https://enreach.network/privacy",children:"Privacy Policy"}),"."]}),(0,n.jsx)(i.un,{type:"submit",isDisabled:K,isLoading:L,children:"Sign Up"}),(0,n.jsx)(u.e,{btn:"Sign up with Google",defReferralCode:R}),(0,n.jsxs)("div",{className:"flip_item text-center text-xs text-white/60",children:["Already have an account?"," ",(0,n.jsx)(l.g,{href:"/signin",className:"text-xs",children:"Sign In"})]})]})]})})}},2793:function(e,t,r){"use strict";r.d(t,{e:function(){return w}});var n=r(81210),s=r(84200),i=r(27767),a=r(77422),o=r(36689),c=r(17528),l=r(49755),u=r(44384),f=r(47608),d=r(54957),m=r(52897),x=r(74572),h=r(53179),p=r(83332),g=r(13882),b=r(95258);function w(e){let{defReferralCode:t,btn:r="Sign in with Google",isDisabled:w}=e,j=(0,h.Eu)(),[y,v]=(0,l.useState)(""),[k,N]=(0,d.Z)(!1),[E,S]=(0,l.useState)(!1),C=(0,l.useRef)(""),R=(0,b.useSearchParams)().get("referral");(0,b.useRouter)();let{mutate:P,isPending:D}=(0,c.D)({onError:f.rV,mutationFn:async e=>{S(!1),C.current=e.access_token;let r=await x.Z.loginByGoogleApi({accessToken:e.access_token});console.log("resultresultresult",r);let n=t||R;if(r.token)j.setUser(r);else if(n&&!0===(0,m.tx)(n)){let e=await x.Z.loginSetReferralApi({accessToken:C.current,referralCode:n.trim()}).catch(f.rV);e?j.setUser(e):N()}else N()}}),Z=(0,u.Nq)({flow:"implicit",onError:e=>{S(!1),(0,f.rV)(e.error_description)},onSuccess:P}),{mutate:_,isPending:V}=(0,c.D)({onError:f.rV,mutationFn:async()=>{if(!0!==(0,m.tx)(y)||!C.current)return;let e=await x.Z.loginSetReferralApi({accessToken:C.current,referralCode:y});j.setUser(e),N(!1)}}),{mutate:A,isPending:F}=(0,c.D)({onError:f.rV,mutationFn:async()=>{if(!C.current)return;let e=await x.Z.loginSetReferralApi({accessToken:C.current});j.setUser(e),N(!1)}}),M=V||D||!0!==(0,m.tx)(y)||!C.current,U=w||D||E;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.un,{color:"default",type:"button",isDisabled:U,isLoading:D||E,onClick:()=>{S(!0),Z()},children:[(0,n.jsx)(s.JM8,{})," ",r]}),(0,n.jsxs)(a.m,{isOpen:k,children:[(0,n.jsx)("p",{className:"self-stretch flex-grow-0 flex-shrink-0  text-base text-center text-white",children:"A Special Welcome"}),(0,n.jsx)("p",{className:"self-stretch flex-grow-0 flex-shrink-0  text-sm text-center text-white/50",children:"Join in EnReach's Open Edge journey and earn BERRY rewards with extra boost!"}),(0,n.jsx)(o.Fx,{onChange:v}),(0,n.jsx)(i.un,{isDisabled:M,className:"w-full",onClick:()=>_(),isLoading:V,children:"Get Boosted"}),(0,n.jsx)("div",{className:"flex justify-center text-white/80  text-sm h-5 items-center",children:(0,n.jsx)(g.g,{onClick:()=>A(),className:"ml-2 text-xs",children:F?(0,n.jsx)(p.c,{size:"sm"}):"Skip"})})]})]})}},77422:function(e,t,r){"use strict";r.d(t,{C:function(){return f},m:function(){return u}});var n=r(81210),s=r(29906),i=r(12014),a=r(21585),o=r(41551),c=r(10307),l=r(85947);function u(e){let{children:t,contentProps:r,bodyProps:o,...c}=e;return(0,n.jsx)(s.R,{isDismissable:!1,backdrop:"blur",classNames:{backdrop:"backdrop-blur",wrapper:"py-5"},hideCloseButton:!0,...c,children:(0,n.jsx)(i.A,{className:"w-[22.5rem] p-6 bg-[#404040] rounded-3xl !my-auto",...r||{},children:(0,n.jsx)(a.I,{className:"flex flex-col justify-start items-center w-full gap-6 p-0",...o||{},children:t})})})}function f(e){let{tit:t,children:r,contentProps:u,bodyProps:f,className:d,...m}=e;return(0,n.jsx)(s.R,{hideCloseButton:!0,backdrop:"blur",className:d,classNames:{backdrop:"backdrop-blur-[6px]",wrapper:"py-5"},...m,children:(0,n.jsx)(i.A,{className:(0,o.cn)("w-[31.25rem] bg-[#404040] gap-6 p-6 rounded-3xl !my-auto",d),...u||{},children:e=>(0,n.jsxs)(n.Fragment,{children:["function"==typeof e||t&&(0,n.jsxs)(c.k,{className:"justify-between p-0  ",children:[t&&(0,n.jsx)("span",{className:"text-base font-semibold text-left text-white",children:t}),"function"==typeof e&&(0,n.jsx)("div",{className:"p-0 rounded-full w-6 h-6 flex justify-center items-center text-xs cursor-pointer bg-white/10 hover:bg-white/30",onClick:e,children:(0,n.jsx)(l.q5L,{})})]}),(0,n.jsx)(a.I,{className:"flex flex-col justify-start items-center w-full gap-6 p-0",...f||{},children:r})]})})})}},13882:function(e,t,r){"use strict";r.d(t,{g:function(){return a}});var n=r(81210),s=r(41551),i=r(36805);function a(e){let{children:t,target:r="_self",className:a,onClick:o,isDisable:c,href:l="javascript:void(0);",...u}=e;return(0,n.jsx)(i.default,{target:r,href:l,onClick:e=>{c||null==o||o(e)},className:(0,s.cn)("underline text-white/60 hover:text-primary cursor-pointer",{"cursor-not-allowed hover:text-white/60":c},a),...u,children:t})}}},function(e){e.O(0,[7495,5863,6825,4242,5926,9720,6364,8862,5238,8035,5110,5444,6805,180,8403,6331,1744],function(){return e(e.s=65265)}),_N_E=e.O()}]);