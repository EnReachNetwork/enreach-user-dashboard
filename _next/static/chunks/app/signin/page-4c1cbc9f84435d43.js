(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4281],{21746:function(e,t,s){Promise.resolve().then(s.bind(s,34160))},34160:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var r=s(81210),n=s(53573),l=s(27767),i=s(88918),a=s(36689),c=s(41013),o=s(13882),u=s(2793),x=s(47608),f=s(52897),d=s(17528),m=s(49755),h=s(53179),p=s(95258),g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=(0,p.useRouter)();(0,m.useEffect)(()=>{localStorage.getItem("last-login-user")&&t.replace(e)},[t,e])};function j(){let[e,t]=(0,m.useState)(""),[s,j]=(0,m.useState)(""),w=(0,m.useContext)(h.Vo),b=(0,p.useSearchParams)().get("referral"),{mutate:k,isPending:N}=(0,d.D)({onError:x.rV,mutationFn:async t=>{t.preventDefault(),await w.login({email:e,password:s})}});g();let y=N||!0!==(0,f.oH)(e)||!s;return(0,r.jsx)(c.K,{children:(0,r.jsxs)(n.z,{className:"mx-auto px-5 min-h-full flex flex-col gap-4 items-center w-full max-w-[25rem]",children:[(0,r.jsx)("span",{className:i.U,children:"Sign In"}),(0,r.jsxs)("form",{onSubmit:k,className:"flex flex-col gap-5 w-full",children:[(0,r.jsx)(a.j7,{setEmail:t}),(0,r.jsx)(a.CM,{setPassword:j,validate:()=>null}),(0,r.jsx)(l.un,{type:"submit",isDisabled:y,isLoading:N,children:"Sign In"}),(0,r.jsx)(u.e,{})]}),(0,r.jsxs)("div",{className:"flip_item mb-auto flex items-center w-full text-xs text-white/60",children:["Donâ€™t have an account?",(0,r.jsx)(o.g,{href:b?"/signup?referral=".concat(b):"/signup",className:"ml-2 text-xs",children:"Sign Up"}),(0,r.jsx)(o.g,{href:"/reset?email=".concat(e),className:"ml-auto text-xs",children:"Forget Password?"})]})]})})}},2793:function(e,t,s){"use strict";s.d(t,{e:function(){return w}});var r=s(81210),n=s(84200),l=s(27767),i=s(77422),a=s(36689),c=s(17528),o=s(49755),u=s(44384),x=s(47608),f=s(54957),d=s(52897),m=s(74572),h=s(53179),p=s(83332),g=s(13882),j=s(95258);function w(e){let{defReferralCode:t,btn:s="Sign in with Google",isDisabled:w}=e,b=(0,h.Eu)(),[k,N]=(0,o.useState)(""),[y,S]=(0,f.Z)(!1),[v,C]=(0,o.useState)(!1),E=(0,o.useRef)(""),R=(0,j.useSearchParams)().get("referral");(0,j.useRouter)();let{mutate:_,isPending:D}=(0,c.D)({onError:x.rV,mutationFn:async e=>{C(!1),E.current=e.access_token;let s=await m.Z.loginByGoogleApi({accessToken:e.access_token});console.log("resultresultresult",s);let r=t||R;if(s.token)b.setUser(s);else if(r&&!0===(0,d.tx)(r)){let e=await m.Z.loginSetReferralApi({accessToken:E.current,referralCode:r.trim()}).catch(x.rV);e?b.setUser(e):S()}else S()}}),F=(0,u.Nq)({flow:"implicit",onError:e=>{C(!1),(0,x.rV)(e.error_description)},onSuccess:_}),{mutate:P,isPending:A}=(0,c.D)({onError:x.rV,mutationFn:async()=>{if(!0!==(0,d.tx)(k)||!E.current)return;let e=await m.Z.loginSetReferralApi({accessToken:E.current,referralCode:k});b.setUser(e),S(!1)}}),{mutate:V,isPending:U}=(0,c.D)({onError:x.rV,mutationFn:async()=>{if(!E.current)return;let e=await m.Z.loginSetReferralApi({accessToken:E.current});b.setUser(e),S(!1)}}),B=A||D||!0!==(0,d.tx)(k)||!E.current,I=w||D||v;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.un,{color:"default",type:"button",isDisabled:I,isLoading:D||v,onClick:()=>{C(!0),F()},children:[(0,r.jsx)(n.JM8,{})," ",s]}),(0,r.jsxs)(i.m,{isOpen:y,children:[(0,r.jsx)("p",{className:"self-stretch flex-grow-0 flex-shrink-0  text-base text-center text-white",children:"A Special Welcome"}),(0,r.jsx)("p",{className:"self-stretch flex-grow-0 flex-shrink-0  text-sm text-center text-white/50",children:"Join in EnReach's Open Edge journey and earn BERRY rewards with extra boost!"}),(0,r.jsx)(a.Fx,{onChange:N}),(0,r.jsx)(l.un,{isDisabled:B,className:"w-full",onClick:()=>P(),isLoading:A,children:"Get Boosted"}),(0,r.jsx)("div",{className:"flex justify-center text-white/80  text-sm h-5 items-center",children:(0,r.jsx)(g.g,{onClick:()=>V(),className:"ml-2 text-xs",children:U?(0,r.jsx)(p.c,{size:"sm"}):"Skip"})})]})]})}},77422:function(e,t,s){"use strict";s.d(t,{C:function(){return x},m:function(){return u}});var r=s(81210),n=s(29906),l=s(12014),i=s(21585),a=s(41551),c=s(10307),o=s(85947);function u(e){let{children:t,contentProps:s,bodyProps:a,...c}=e;return(0,r.jsx)(n.R,{isDismissable:!1,backdrop:"blur",classNames:{backdrop:"backdrop-blur",wrapper:"py-5"},hideCloseButton:!0,...c,children:(0,r.jsx)(l.A,{className:"w-[22.5rem] p-6 bg-[#404040] rounded-3xl !my-auto",...s||{},children:(0,r.jsx)(i.I,{className:"flex flex-col justify-start items-center w-full gap-6 p-0",...a||{},children:t})})})}function x(e){let{tit:t,children:s,contentProps:u,bodyProps:x,className:f,...d}=e;return(0,r.jsx)(n.R,{hideCloseButton:!0,backdrop:"blur",className:f,classNames:{backdrop:"backdrop-blur-[6px]",wrapper:"py-5"},...d,children:(0,r.jsx)(l.A,{className:(0,a.cn)("w-[31.25rem] bg-[#404040] gap-6 p-6 rounded-3xl !my-auto",f),...u||{},children:e=>(0,r.jsxs)(r.Fragment,{children:["function"==typeof e||t&&(0,r.jsxs)(c.k,{className:"justify-between p-0  ",children:[t&&(0,r.jsx)("span",{className:"text-base font-semibold text-left text-white",children:t}),"function"==typeof e&&(0,r.jsx)("div",{className:"p-0 rounded-full w-6 h-6 flex justify-center items-center text-xs cursor-pointer bg-white/10 hover:bg-white/30",onClick:e,children:(0,r.jsx)(o.q5L,{})})]}),(0,r.jsx)(i.I,{className:"flex flex-col justify-start items-center w-full gap-6 p-0",...x||{},children:s})]})})})}},13882:function(e,t,s){"use strict";s.d(t,{g:function(){return i}});var r=s(81210),n=s(41551),l=s(36805);function i(e){let{children:t,target:s="_self",className:i,onClick:a,isDisable:c,href:o="javascript:void(0);",...u}=e;return(0,r.jsx)(l.default,{target:s,href:o,onClick:e=>{c||null==a||a(e)},className:(0,n.cn)("underline text-white/60 hover:text-primary cursor-pointer",{"cursor-not-allowed hover:text-white/60":c},i),...u,children:t})}}},function(e){e.O(0,[4242,7495,5863,6825,5926,9720,6364,8862,5238,8035,5110,6805,180,8403,6331,1744],function(){return e(e.s=21746)}),_N_E=e.O()}]);