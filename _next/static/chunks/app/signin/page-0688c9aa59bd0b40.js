(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4281],{21746:function(e,t,s){Promise.resolve().then(s.bind(s,34160))},34160:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var n=s(81210),r=s(53573),l=s(27767),i=s(88918),a=s(36689),c=s(41013),o=s(13882),u=s(2793),x=s(52897),f=s(17528),d=s(49755),m=s(77949),h=s(95258),p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=(0,h.useRouter)();(0,d.useEffect)(()=>{localStorage.getItem("last-login-user")&&t.replace(e)},[t,e])};function g(){let[e,t]=(0,d.useState)(""),[s,g]=(0,d.useState)(""),j=(0,d.useContext)(m.Vo),w=(0,h.useSearchParams)().get("referral"),{mutate:b,isPending:k}=(0,f.D)({mutationFn:async t=>{t.preventDefault(),await j.login({email:e,password:s})}});p();let N=k||!0!==(0,x.oH)(e)||!s;return(0,n.jsx)(c.K,{children:(0,n.jsxs)(r.z,{className:"mx-auto px-5 min-h-full flex flex-col gap-4 items-center w-full max-w-[25rem]",children:[(0,n.jsx)("span",{className:i.U,children:"Sign In"}),(0,n.jsxs)("form",{onSubmit:b,className:"flex flex-col gap-5 w-full",children:[(0,n.jsx)(a.j7,{setEmail:t}),(0,n.jsx)(a.CM,{setPassword:g,validate:()=>null}),(0,n.jsx)(l.un,{type:"submit",isDisabled:N,isLoading:k,children:"Sign In"}),(0,n.jsx)(u.e,{})]}),(0,n.jsxs)("div",{className:"flip_item mb-auto flex items-center w-full text-xs text-white/60",children:["Donâ€™t have an account?",(0,n.jsx)(o.g,{href:w?"/signup?referral=".concat(w):"/signup",className:"ml-2 text-xs",children:"Sign Up"}),(0,n.jsx)(o.g,{href:"/reset?email=".concat(e),className:"ml-auto text-xs",children:"Forget Password?"})]})]})})}},2793:function(e,t,s){"use strict";s.d(t,{e:function(){return j}});var n=s(81210),r=s(84200),l=s(27767),i=s(77422),a=s(36689),c=s(17528),o=s(49755),u=s(44384),x=s(54957),f=s(52897),d=s(93271),m=s(77949),h=s(83332),p=s(13882),g=s(95258);function j(e){let{defReferralCode:t,btn:s="Sign in with Google",isDisabled:j}=e,w=(0,m.Eu)(),[b,k]=(0,o.useState)(""),[N,y]=(0,x.Z)(!1),[S,v]=(0,o.useState)(!1),C=(0,o.useRef)(""),R=(0,g.useSearchParams)().get("referral");(0,g.useRouter)();let{mutate:D,isPending:E}=(0,c.D)({mutationFn:async e=>{v(!1),C.current=e.access_token;let s=await d.Z.loginByGoogleApi({accessToken:e.access_token});console.log("resultresultresult",s);let n=t||R;if(s.token)w.setUser(s);else if(n&&!0===(0,f.tx)(n)){let e=await d.Z.loginSetReferralApi({accessToken:C.current,referralCode:n.trim()});e?w.setUser(e):y()}else y()}}),_=(0,u.Nq)({flow:"implicit",onError:e=>{v(!1)},onSuccess:D}),{mutate:F,isPending:P}=(0,c.D)({mutationFn:async()=>{if(!0!==(0,f.tx)(b)||!C.current)return;let e=await d.Z.loginSetReferralApi({accessToken:C.current,referralCode:b});w.setUser(e),y(!1)}}),{mutate:A,isPending:U}=(0,c.D)({mutationFn:async()=>{if(!C.current)return;let e=await d.Z.loginSetReferralApi({accessToken:C.current});w.setUser(e),y(!1)}}),B=P||E||!0!==(0,f.tx)(b)||!C.current,I=j||E||S;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.un,{color:"default",type:"button",isDisabled:I,isLoading:E||S,onClick:()=>{v(!0),_()},children:[(0,n.jsx)(r.JM8,{})," ",s]}),(0,n.jsxs)(i.m,{isOpen:N,children:[(0,n.jsx)("p",{className:"self-stretch flex-grow-0 flex-shrink-0  text-base text-center text-white",children:"A Special Welcome"}),(0,n.jsx)("p",{className:"self-stretch flex-grow-0 flex-shrink-0  text-sm text-center text-white/50",children:"Join in EnReach's Open Edge journey and earn BERRY rewards with extra boost!"}),(0,n.jsx)(a.Fx,{onChange:k}),(0,n.jsx)(l.un,{isDisabled:B,className:"w-full",onClick:()=>F(),isLoading:P,children:"Get Boosted"}),(0,n.jsx)("div",{className:"flex justify-center text-white/80  text-sm h-5 items-center",children:(0,n.jsx)(p.g,{onClick:()=>A(),className:"ml-2 text-xs",children:U?(0,n.jsx)(h.c,{size:"sm"}):"Skip"})})]})]})}},77422:function(e,t,s){"use strict";s.d(t,{C:function(){return x},m:function(){return u}});var n=s(81210),r=s(92924),l=s(81777),i=s(76222),a=s(41551),c=s(47060),o=s(85947);function u(e){let{children:t,contentProps:s,bodyProps:a,...c}=e;return(0,n.jsx)(r.R,{isDismissable:!1,backdrop:"blur",classNames:{backdrop:"backdrop-blur",wrapper:"py-5"},hideCloseButton:!0,...c,children:(0,n.jsx)(l.A,{className:"w-[22.5rem] p-6 bg-[#404040] rounded-3xl !my-auto",...s||{},children:(0,n.jsx)(i.I,{className:"flex flex-col justify-start items-center w-full gap-6 p-0",...a||{},children:t})})})}function x(e){let{tit:t,children:s,contentProps:u,bodyProps:x,className:f,...d}=e;return(0,n.jsx)(r.R,{hideCloseButton:!0,backdrop:"blur",className:f,classNames:{backdrop:"backdrop-blur-[6px]",wrapper:"py-5"},...d,children:(0,n.jsx)(l.A,{className:(0,a.cn)("w-[31.25rem] bg-[#404040] gap-6 p-6 rounded-3xl !my-auto",f),...u||{},children:e=>(0,n.jsxs)(n.Fragment,{children:["function"==typeof e||t&&(0,n.jsxs)(c.k,{className:"justify-between p-0  ",children:[t&&(0,n.jsx)("span",{className:"text-base font-semibold text-left text-white",children:t}),"function"==typeof e&&(0,n.jsx)("div",{className:"p-0 rounded-full w-6 h-6 flex justify-center items-center text-xs cursor-pointer bg-white/10 hover:bg-white/30",onClick:e,children:(0,n.jsx)(o.q5L,{})})]}),(0,n.jsx)(i.I,{className:"flex flex-col justify-start items-center w-full gap-6 p-0",...x||{},children:s})]})})})}},13882:function(e,t,s){"use strict";s.d(t,{g:function(){return i}});var n=s(81210),r=s(41551),l=s(36805);function i(e){let{children:t,target:s="_self",className:i,onClick:a,isDisable:c,href:o="javascript:void(0);",...u}=e;return(0,n.jsx)(l.default,{target:s,href:o,onClick:e=>{c||null==a||a(e)},className:(0,r.cn)("underline text-white/60 hover:text-primary cursor-pointer",{"cursor-not-allowed hover:text-white/60":c},i),...u,children:t})}}},function(e){e.O(0,[4242,7495,5863,6825,9720,6364,8862,4127,4292,3259,6805,5252,8403,6331,1744],function(){return e(e.s=21746)}),_N_E=e.O()}]);